<div class="page">
  <div class="content">
    <div class="feather-container">
      <img
        src="assets/webdesign/register_login/parchment.png"
        alt="Parchment"
        class="feather-img"
      />

      <div class="feather-content">
        <h2 class="feather-title">Sign up now</h2>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <div class="field">
            <label>Username</label>
            <input type="text" name="username" formControlName="username"/>
            @if (registerForm.get('username')?.invalid && (registerForm.get('username')?.dirty || registerForm.get('username')?.touched)) {
              <div class="error-message">
                @if (registerForm.get('username')?.hasError('required')) {
                  <span>Username is required.</span>
                }
              </div>
            }
          </div>

<!--          <div class="field">-->
<!--            <label>Email</label>-->
<!--            <input type="email" name="email" formControlName="email"/>-->
<!--          </div>-->

          <div class="field">
            <label>Password</label>
            <input type="password" name="password" formControlName="password"/>
            @if (registerForm.get('password')?.invalid && (registerForm.get('password')?.dirty || registerForm.get('password')?.touched)) {
              <div class="error-message">
                @if (registerForm.get('password')?.hasError('required')) {
                  <span>Password is required.</span>
                }
                @if (registerForm.get('password')?.hasError('minlength')) {
                  <span>Password must be at least 8 characters.</span>
                }
              </div>
            }
          </div>

          @if (errorMessage) {
            <div class="field">
              <div class="error-message">{{errorMessage}}</div>
            </div>
          }

          <!-- Register button -->
          <div class="field center">
            <button class="register-btn" type="submit" [disabled]="!registerForm.valid">
              <img src="assets/webdesign/button/button1.png" alt="Register" />
              <span>Register</span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
